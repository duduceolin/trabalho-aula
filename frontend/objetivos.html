<html>
<head>
<title> Adicionar novo objetivo </title>
<link rel="stylesheet" type="text/css" href="css/panel.css">
<link rel="stylesheet" type="text/css" href="css/objetivo.css">
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
</head>
<body>

  <script type='text/javascript'>


  $(document).ready(function() {

    $.ajaxSetup({
      contentType: "application/json; charset=utf-8"
    });
      /* attach a submit handler to the form */
      $("#formoid").submit(function(event) {

        /* stop form from submitting normally */
        event.preventDefault();

        /* get the action attribute from the <form action=""> element */
        var $form = $( this ),
            url = "http://localhost:8080/objetivos/"

        var body = {descricao: $('#descricao').val(),
        valorEstipulado: $('#valor').val()};

       $.ajax({
        url: 'http://localhost:8080/objetivos/',
        type: 'post',
        contentType: 'application/json',
        data: JSON.stringify(body),
        headers: {
            user: sessionStorage.getItem("usuario")
        },
        dataType: 'json',
        success: function (data) {
            alert('success');
        }
    });
      });
    });
  </script>
<ul>
  <li><a href="painel.html">Meu painel</a></li>
  <li><a href="objetivos.html">Incluir objetivo</a></li>
  <li><a href="dinheiro.html">Inserir dinheiro</a></li>
</ul>


	<form id="formoid" method="post" action="#">
	<div class="box">
	<h1>Incluir objetivo</h1>

	<input id="descricao" type="text" name="objetivo" placeholder="Nome do objetivo" class="email" /> <br>

	<input id="valor" type="value" name="meta" placeholder="Valor da meta" class="email" /> <br>

  <input class="btn"type="submit" id="submitButton"  name="submitButton" value="Incluir">

	</div>

	</form>

 <div id="rodape"> </div>
</body>
</html>
